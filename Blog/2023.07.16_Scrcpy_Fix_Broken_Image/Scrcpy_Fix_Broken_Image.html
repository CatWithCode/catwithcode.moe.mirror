<!DOCTYPE html>
<html lang="en">
  <head>
    <script type="text/javascript" src="/Assets/MainFunctions.js"></script>
    <script type="text/javascript">WriteHead();</script>
    <title>CatWithCode - How to fix broken Video/Audio in scrcpy</title>
  </head>
  <body align="left">
    <div id="Header"><script type="text/javascript">WriteHeader();</script></div>
    
    <h1>How to fix broken Video/Audio in scrcpy</h1>
    <p>I am using a GSI on my phone and when I try to use scrcpy I get this output:</p>
    <a href=""><img src="DATA/scrcpy_broken_img.png" alt="Screenshot of Device Info HW, Blured with Flash Type marked" style="width:20%";></a>
    <p>The solution was simple (so simple, in fact, that I am angry at myself for not having thought of it sooner / finding it sooner). Execute this in your Terminal:</p>
    <p><u><i>scrcpy --list-encoders</i></u></p>
    <p>Then try codec after codec until one works, and use that one from now on. It really is that simple. For my Unihertz Titan Slim with a LinageOS 20 GSI it was:</p>
    <p><u><i>scrcpy --video-codec=h264 --video-encoderc2.android.avc.encoder' --audio-codec=opus --audio-encoder='c2.android.opus.encoder' --forward-all-clicks</i></u></p>
    <br>
    <p>More readable:</p>
    <ul>
      <li>scrcpy</li>
      <li>--video-codec=h264</li>
      <li>--video-encoderc2.android.avc.encoder'</li>
      <li>--audio-codec=opus</li>
      <li>--audio-encoder='c2.android.opus.encoder'</li>
      <li>--forward-all-clicks</li>
      <p>---</p>
      <li>scrcpy</li>
      <li>--video-codec=h264 --video-encoderc2.android.avc.encoder'</li>
      <li>--audio-codec=opus --audio-encoder='c2.android.opus.encoder'</li>
      <li>--forward-all-clicks</li>      
    </ul>
    <br>
    <h2>Sources:</h2>
    <ul>
      <li><a href="https://github.com/Genymobile/scrcpy/issues/4143">https://github.com/Genymobile/scrcpy/issues/4143</a></li>
      <li><a href="https://github.com/Genymobile/scrcpy">https://github.com/Genymobile/scrcpy</a></li>
      <li><a href="https://www.reddit.com/r/scrcpy/comments/vteg5z/mouse_right_click_back_button/">https://www.reddit.com/r/scrcpy/comments/vteg5z/mouse_right_click_back_button/</a></li>
    </ul>
    <div id="Footer"><script type="text/javascript">WriteFooter('2023.07.16 - 19:45');</script></div>
  </body>
</html>